{% extends "base.html" %}
{% load static %}
{% load solo_tags %}
{% load embed_video_tags %}
{% block header %}
{% get_solo 'cms.OperasPrimas' as item %}
{% include 'big_header.html' with header_video=item.video %}
{% endblock %}
{% block header-refs %}
<link rel="stylesheet" type="text/css" href="{% static "lib/css/slick.min.css" %}"/>
<link rel="stylesheet" type="text/css" href="{% static "lib/css/lity.min.css" %}"/>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick-theme.css"/>
{% endblock %}
{% block content %}
{% get_solo 'cms.OperasPrimas' as item %}
<main>
    <div class="black-wrapper">
        <h1>Ã“PERAS PRIMAS</h1>
    </div>
    <div class="margin"></div>
    <div class="wrapper">
        <div class="big">
            {{ item.description | safe }}
        </div>
    </div>
</main>
<div class="margin"></div>
<main>
    <div class="wrapper video-grid-margin">
        {% for item in list %}
        {% video item.video as video %}
        <article>
            <div class="cover"
                style="background-image: url('{{ video.thumbnail }}'"
                >
                <a data-lity href="{{ video.url }}">
                    <img class="play-button" src="{% static "img/play.svg" %}" alt="play">
                </a>
            </div>
            <div class="info">
                <h3>{{ item.title }}</h3>
                <div class="rich-text">
                    {{ item.description | safe }}
                </div>
            </div>
        </article>
        {% endvideo %}
        {% endfor %}
    </div>
</main>

<div class="margin"></div>

<main>
    <div class="wrapper padding-top">
        <h1>CORTOMETRAJES</h1>
    </div>
    <div class="wrapper video-grid">
        {% for item in list_cortos %}
        {% video item.video as video %}
        <article>
            <a data-lity href="{{ video.url }}">
                <div
                    class="cover"
                    style="background-image: url('{{ video.thumbnail }}'"
                    >
                </div>
                <div class="info">
                    <h3>{{ item.title }}</h3>
                    <div>
                        {{ item.description | safe }}
                    </div>
                    <img class="play-button" src="{% static "img/play.svg" %}" alt="play">
                </div>
            </a>
        </article>
        {% endvideo %}
        {% endfor %}
    </div>
</main>
{% endblock %}

{% block footer-refs %}
<script type="text/javascript" src="{% static "lib/js/slick.min.js" %}"></script>
<script type="text/javascript" src="{% static "lib/js/lity.min.min.js" %}"></script>
<script>
    $('.video-grid').slick({
        infinite: true,
        slidesToShow: 5,
        slidesToScroll: 1,
        autoplay: true,
        autoplaySpeed: 2000,
        arrows: true,
        dots: false,
        swipeToSlide: true,
    });
</script>
{% endblock %}
